@import 'css/fonts.css';
@import 'css/root.css';
@import 'css/themes.css';
@import 'css/animations.css';
@import 'css/action-toast.css';
@import 'css/back-to-back.css';
@import 'css/t-spin.css';
@import 'css/tool-tip.css';
@import 'css/checkbox.css';
@import 'css/cell-colors.css';


*,
:root,
body,
div {
  user-select: none;
  touch-action: manipulation;
  transition-property: transform;
  transition-duration: 0.2s;
  transition-timing-function: linear;
}

body {
  background-blend-mode: var(--bg-blend-mode);
  background-image: var(--bg-blend-gradient), var(--bg-image);
  background-repeat: no-repeat;
  background-size: var(--bg-size);
  background-position: var(--bg-position);
}

.dev-panel {
  position: relative;
  top: calc(50vh - 22.5rem);
  left: 0.25rem;
  transform: scaleY(0.6);

  & .field {

    & h5 {
      font-family: "Premier2019";
    }

    & h5:nth-child(2) {
      margin-left: 0.25rem;
    }
  }
}


body[data-layout="desktop"] {
  /* min-width: 1000px; */
  overflow: hidden;

  /* background:
    url(/src/assets/bg_cave18_hd.webp),
    radial-gradient(circle at center, #311F, #9999, #44222299, #334c, #313c);
  background-repeat: no-repeat;
  background-size: auto 140%;
  background-position: 35% 10%; */


  /* background-blend-mode: color-dodge; */
  /* background-blend-mode: overlay; */

  /* background: url(/src/assets/bg_cave18_hd.webp), radial-gradient(circle at center, #311F, #9999, #4229, #334c, #313c); */
  /* background-repeat: no-repeat; */
  /* back */

  background-blend-mode: multiply;
}

body[data-layout="mobile"] {
  /* min-width: 1000px; */
  overflow: hidden;

  /* background:
    url("/src/assets/mobile_bg.png");
  
  background-size: 180vh auto;
  background-position: 64% 22%; */
  /* background: url(/src/assets/bg_cave18_hd.webp), radial-gradient(circle at center, #311F, #9999, #4229, #334c, #313c);

  background-size: 180vh auto;
  background-position: 40% 0%; */

  /* background-blend-mode: color-dodge; */

}

/* @media(max-width: 1000px) {
  body {
    background-size: 1000px 1000px, 100vw 100vh;
  }
} */

#app {
  position: absolute;
  /* max-width: 1280px; */
  min-width: 0;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  /* margin: 0 auto; */
  /* padding: 2rem; */
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow: hidden;
  touch-action: manipulation;
}

.app-wrapper {

  /* display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  height: 70%; */
  & #HeaderSVG {
    margin-top: 0.4rem;
    transition: height 0.3s linear
  }
}

.app-container {
  /* transform-origin: top left; */
  position: absolute;
  top: var(--nav-header-height);
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
  /* height: 26rem; */
  /* background-color: rgb(var(--app-container-bg-color) / var(--app-container-bg-op)); */
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  transform: scale(var(--app-container-scale));
  /* background-color: gray; */

}



.app-header {
  height: var(--nav-header-height);

  & .nav-icon {
    transform: scale(var(--nav-icon-scale));
    transition: transform 0.3s ease-in-out;
  }
}

.app-header {
  --header-scale-desktop: 0.4;
  --header-cell-border-width: 0.0625rem;
  height: var(--nav-header-height);
  position: absolute;
  top: 0;
  font-size: 1rem;
  width: 100%;
  left: 0;

  display: flex;
  align-items: center;
  justify-content: space-between;
  /* background-image: linear-gradient(rgba(16, 22, 28, 0.5),rgba(53, 69, 85, 0.5),rgba(16, 22, 28, 0.5)); */
  background-image: var(--app-header-gradient);

  /* height: 60px; */

  /* margin-bottom: -2rem; */

  & .nav-icon {
    z-index: 100;
    padding: 0;
    margin: 0;
    background-size: 32pt;
    height: 32pt;
    width: 32pt;
    border-radius: 32pt;
  }


  & .pause-resume {
    position: relative;
    /* background-image: url('assets/settings.png'); */
    /* background-size: 20pt; */
    /* background-position: 2pt 2pt; */
    /* background-repeat: no-repeat; */
    height: 24pt;
    width: 24pt;
    border-radius: 24pt;
    filter: contrast(1);
    /* transition: all; */
    margin-top: 1pt;
    margin-left: 4pt;


    &::after {
      box-shadow: inset #CFF6 0.09375rem 0.09375rem 0.25rem 0.125rem, inset 0 -0.0625rem 0.625rem 0.09375rem #0006, 0.015rem 0.03125rem 0.0625rem 0.0625rem #0003;
      /* filter: contrast(0); */
      content: ' ';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      border-radius: 50%;
      z-index: 100;
    }

    &::before {
      filter: contrast(0);
      content: ' ';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      border-radius: 50%;
    }

    &.paused::before {
      z-index: -1;
      background-size: 24pt;
      background-position: 0pt 0pt;
      background-repeat: no-repeat;
      background-image: url('assets/play-circle.png');
    }

    &.unpaused::before {
      z-index: -1;
      background-size: 24pt;
      background-position: 0pt 0pt;
      background-repeat: no-repeat;
      background-image: url('assets/pause-circle.png');
    }
  }

  & .settings {
    position: relative;
    /* background-image: url('assets/settings.png'); */
    /* background-size: 20pt; */
    /* background-position: 2pt 2pt; */
    /* background-repeat: no-repeat; */
    height: 30pt;
    width: 30pt;
    border-radius: 30pt;
    filter: contrast(1);
    /* transition: all; */
    margin-top: 1pt;
    margin-left: 4pt;
    box-shadow: #0008 0 0 0.0625rem 0.03125rem, #CFF3 0rem -0.0625rem 0.25rem 0.0625rem;


    &::after {
      box-shadow: inset #CFF6 0.09375rem 0.09375rem 0.25rem 0.125rem, inset 0 -0.0625rem 0.625rem 0.09375rem #0006, 0.015rem 0.03125rem 0.0625rem 0.0625rem #0003;
      /* filter: contrast(0); */
      content: ' ';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      border-radius: 50%;
      z-index: 100;
    }

    &::before {
      transition: transform 0.5s ease-in-out;
      filter: contrast(0);
      content: ' ';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      border-radius: 50%;
    }

    &.open::before {
      transform: rotate(-540deg);
      z-index: -1;
      background-size: 24pt;
      background-position: 3pt 3pt;
      background-repeat: no-repeat;
      background-image: url('assets/settings.png');
    }

    &.closed::before {
      transform: rotate(0deg);
      z-index: -1;
      background-size: 24pt;
      background-position: 3pt 3pt;
      background-repeat: no-repeat;
      background-image: url('assets/settings.png');
    }
  }


  /* 
  
  & .settings {
        position: relative;
        background-image: url('assets/settings.png');
        background-size: 24pt;
        height: 24pt;
        width: 24pt;
        border-radius: 24pt;
        filter: contrast(1);
        transition: all;
        margin-top: 1pt;
        margin-left: 4pt;
  }
  & .settings.open {
    position: relative;
    z-index: 100;
    filter: contrast(1);
    height: 40pt;
    width: 40pt;
    margin-left: -4pt;

    background-size: var(--nav-header-height) var(--nav-header-height);
    background-position: -5pt -5pt;
    background-repeat: no-repeat;
    overflow: show;
    background-image:
      linear-gradient(rgba(16, 22, 28, 0.35), rgba(53, 69, 85, 0.45) 42%, rgba(16, 22, 28, 0.35)),
      radial-gradient(circle at center, hsla(150, 100%, 50%, 1) 0%, hsla(200, 100%, 50%, 0.2) 40%, #00000000 54%, #00000000 100%);
  }

  & .settings.open::before {
    filter: contrast(0.8);
    position: relative;
    transition: all;
    content: ' ';
    position: absolute;
    z-index: -100;
    top: 0pt;
    left: 0pt;
    background-image: url('assets/settings.png');
    height: 40pt;
    width: 40pt;
    
    background-size: 24pt;
    background-position: 8pt 8pt;
    background-repeat: no-repeat;
    border-radius: 24pt;
  }

  & .settings::before {
    filter: contrast(0);
    position: relative;
    transition: all;
    content: ' ';
    position: absolute;
    z-index: -100;
    top: -4pt;
    left: -4pt;
    background-image: url('assets/settings.png');
    height: 32pt;
    width: 32pt;
    transform: scale(0.96);
    
    background-size: 24pt;
    background-position: 4pt 4pt;
    background-repeat: no-repeat;
    border-radius: 24pt;
  } */

  & .user-icon {
    box-shadow: #0008 0 0 0.0625rem 0.0625rem,
      #CFF3 0rem 0.0rem 0.125rem 0.0625rem,
      inset #366C 0.0rem -0.0rem 0rem 0.0625rem;
    /* inset 0 -0.0625rem 0.625rem 0.09375rem #000D, 0.015rem 0.03125rem 0.0625rem 0.0625rem #0003, */
    /* inset #CFF6 0.09375rem 0.09375rem 0.25rem 0.125rem,
      inset 0 -0.0625rem 0.625rem 0.09375rem #0006,
      0.015rem 0.03125rem 0.0625rem 0.0625rem #0003; */
    background-size: 32pt;

    &::after {
      position: absolute;
      border-radius: 50%;
      content: ' ';
      height: 100%;
      width: 100%;
      left: 0;
      top: 0;
      background-image: linear-gradient(rgba(16, 22, 28, 0.25), rgba(53, 69, 85, 0.1) 40%, rgba(16, 22, 28, 0.5));
    }
  }
}

.nav-item {
  right: 0;
  display: flex;
  flex-direction: row;
  align-items: center;

  gap: 0.2rem;
  top: 0.25rem;
  width: 60pt;

  &.right {
    margin-right: 1rem;
    justify-content: flex-end;
  }

  &.left {
    margin-left: 1rem;
    justify-content: flex-start;
  }

  & a {
    width: auto;
    margin: 0rem;
    padding: 0;
  }
}



#NavHeader {

  --header-scale-desktop: 0.4;
  --header-cell-border-width: 0.0625rem;
  position: absolute;
  top: 0;
  font-size: 1rem;
  width: 21rem;
  left: calc(50% - 10.5rem);

  display: flex;
  align-items: center;
  justify-content: center;
  /* background-image: linear-gradient(rgba(16, 22, 28, 0.5),rgba(53, 69, 85, 0.5),rgba(16, 22, 28, 0.5)); */
  height: var(--nav-header-height);
  margin-bottom: -2rem;

  /* box-shadow: 0rem 0.05rem 0 0.03125rem rgba(167, 166, 166, 0.5); */
  /* box-shadow: 0rem 0.05rem 0 0.03125rem rgb(50 40 60 / 80%); */

  & .top--1 {
    top: calc(calc(-1rem - var(--header-cell-border-width)) * var(--header-scale-desktop));
  }

  & .top--4 {
    top: calc(calc(-4rem - var(--header-cell-border-width)) * var(--header-scale-desktop));
  }

  & .left-1 {
    left: calc(1rem * var(--header-scale-desktop));
  }

  & .header-cell {
    position: relative;
    /* margin: calc(0.0625rem * var(--header-scale-desktop)); */
    width: calc(1rem * var(--header-scale-desktop));
    height: calc(1rem * var(--header-scale-desktop));
    border-width: calc(var(--header-cell-border-width) * var(--header-scale-desktop));
    border-style: solid;
    border-color: #FFFF;
    border-radius: 0;
    /* calc(0.125rem * var(--header-scale-desktop)); */
    box-sizing: border-box;
    background-color: #9990;
  }

  & .nb-l {
    border-left-color: #0000;
    /* margin-left: 0; */
    box-shadow: inset 0.0625rem;
    border-left-width: 0;
  }

  & .nb-r {
    border-right-color: #0000;
    /* margin-right: 0; */
    border-right-width: 0;
  }

  & .nb-t {
    border-top-color: #0000;
    /* margin-top: 0; */
    border-top-width: 0;
  }

  & .nb-b {
    border-bottom-color: #0000;
    /* margin-bottom: 0; */
    border-bottom-width: 0;
  }

  & .empty {
    border: none;
    background: none;
  }
}

[data-layout="mobile"] #NavHeader {
  --header-scale-mobile: 0.2;
  --header-cell-border-width: 0.0625rem;
  margin-bottom: 0rem;
  padding-top: 0.2rem;

  & .top--1 {
    top: calc(-1rem * var(--header-scale-mobile));
  }

  & .top--4 {
    top: calc(-4rem * var(--header-scale-mobile));
  }

  & .left-1 {
    left: calc(1rem * var(--header-scale-mobile));
  }

  & .header-cell {
    margin: calc(0.0625rem * var(--header-scale-mobile));
    width: calc(1rem * var(--header-scale-mobile));
    height: calc(1rem * var(--header-scale-mobile));
    border: calc(var(--heade-cell-border-width) * var(--header-scale-mobile)) solid white;
    border-radius: calc(0.125rem * var(--header-scale-mobile));
  }

  & .nb-l {
    border-left-color: #0000;
    /* margin-left: 0; */
    box-shadow: inset 0.0625rem;
    border-left-width: 0;
  }

  & .nb-r {
    border-right-color: #0000;
    /* margin-right: 0; */
    border-right-width: 0;
  }

  & .nb-t {
    border-top-color: #0000;
    /* margin-top: 0; */
    border-top-width: 0;
  }

  & .nb-b {
    border-bottom-color: #0000;
    /* margin-bottom: 0; */
    border-bottom-width: 0;
  }

  & .empty {
    border: none;
    background: none;
  }
}

.header-cell.empty::before {
  display: none;
}

.header-cell::before {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  transform: scale(1.5);
  z-index: -1;
  background-color: purple;
  content: ' ';
  border: none;
  border-radius: 15%;
}

[data-layout="mobile"] #NavHeader {
  position: absolute;
  top: 0;
  font-size: 1rem;
  width: 100%;
  left: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  background-image: linear-gradient(rgba(16, 22, 28, 0.7), rgba(53, 69, 85, 0.9), rgba(16, 22, 28, 0.7));
  /* height: var(--nav-header-height); */

  /* box-shadow: 0rem 0.05rem 0 0.03125rem rgba(167, 166, 166, 0.5); */
  box-shadow: 0rem 0.05rem 0 0.03125rem rgb(50 40 60 / 80%);

  & #HeaderSVG {
    position: relative;
    top: 0rem;
  }

  & .game-title {
    font-size: 1.4rem;
    padding: 0;
    margin: 0;
    padding-left: 0.25rem;
    padding-top: 0.4rem;
    line-height: 2rem;
  }
}

.app-container[data-layout="mobile"] {
  /* height: 33.5rem; */
  display: block;
  position: absolute;
  overflow: hidden;
  /* flex-direction: row; */
}

.que-item {
  /* transform: var(--piece-que-item-scale); */
}

.game-clock {
  display: none;
  margin: 8px;
  margin-bottom: 4px;
  font-family: 'SF Digital Heavy';
  /* font-size: 48px; */
  padding: 0;
}

#StatsPanelScaleWrapper {
  transform-origin: top left;
  /* width: 20%; */
  border-radius: 0.7rem;
  overflow: hidden;
  display: flex;
  flex-direction: column-reverse;
  align-items: center;
  justify-content: flex-end;
  height: 21rem;
  /* width: 12rem; */
  gap: 0.6rem;
  /* margin-top: -3rem; */
  font-size: 1rem;
}

[data-layout="mobile"] {
  touch-action: manipulation;
}

[data-layout="mobile"].stats-panel #StatsPanelScaleWrapper {

  border-radius: 0;
  /* background-color: red; */
  position: absolute;
  width: 21rem;
  /* margin-top: 0.5rem; */
  align-items: flex-end;
  justify-content: center;
  flex-direction: column;
  font-size: 0.85rem;
  gap: 0.3rem;
  top: 0.5rem;
  right: 0;
  height: 6rem;

  & #Stats_Timer .stats-field-value {
    color: var(--toast-dark-sky)
  }

  & #Stats_Lines .stats-field-value {
    color: var(--toast-green-luigi)
  }

  & #Stats_Level .stats-field-value {
    color: var(--toast-red-mario)
  }

  & #Stats_Score .stats-field-value {
    color: var(--toast-yellow-coin)
  }


  & .stats-field {
    overflow: show;
    font-family: "Premier2019";
    font-size: 0.8rem;
    align-items: center;
    flex-direction: row;
    gap: 0.6rem;
    padding-left: 0;
    height: 0.8rem;
    width: 8.5rem;
    /* transform: translateX(-2rem); */
    /* background-color: rgba(0,0,0,0.5); */
    background-image: linear-gradient(-0.63turn,
        hsla(200, 33%, 15%, 0.6),
        /* rgba(26,52,52,0.5),  */
        hsla(233, 20%, 20%, 0.6),
        hsla(266, 20%, 10%, 0.5),
        hsla(300, 0%, 0%, 0.4));
    /* box-shadow: 0.05rem 0.05rem 0.09rem 0.09rem rgb(12, 16, 22, 0.8); */
    /* box-shadow: 0.05rem 0.05rem 0.09rem 0.1rem rgb(25 20 30 / 90%); */
    box-shadow: 0.0rem 0.0625rem 0.0 0.0rem hsla(319, 20%, 30%, 0.4);
    border-radius: 0.25rem;
    /* border-top-right-radius: 0; */
    /* border-bottom-left-radius: 0; */
    transform: skew(-12.5deg) scale(1.1);
    transform-origin: bottom right;
    text-align: left;
    padding-left: 0.5rem;
    border-width: 0;
  }

  & .stats-field:nth-child(1) {
    height: 1.0rem;
    width: 10.6rem;
    margin-bottom: 0.04rem;

    letter-spacing: 0;

    & .stats-field-name {
      font-size: 0.64rem;
    }

    & .stats-field-value-bg {
      background: none;
      width: auto;

      & .stats-field-value {
        padding-left: 1.55rem;
        /* width: 5rem; */
        padding-right: 0rem;
        font-size: 0.7rem;
      }
    }
  }

  & .stats-field:nth-child(2) {
    height: 0.88rem;
    width: 10rem;

    & .stats-field-name {
      font-size: 0.6rem;
    }

    & .stats-field-value-bg {
      width: auto;

      & .stats-field-value {
        /* padding-left: 1.2rem; */
        padding-right: 0rem;
        font-size: 0.66rem;
      }
    }
  }

  & .stats-field:nth-child(3) {
    height: 0.8rem;
    width: 9.4rem;

    & .stats-field-name {
      font-size: 0.56rem;
    }

    & .stats-field-value-bg {
      width: auto;

      & .stats-field-value {
        /* padding-left:0.6rem; */
        padding-right: 0.7rem;
        font-size: 0.6rem;
      }
    }
  }

  & .stats-field:nth-child(4) {
    height: 0.8rem;
    width: 9rem;

    & .stats-field-name {
      font-size: 0.56rem;
    }

    & .stats-field-value-bg {
      width: auto;

      & .stats-field-value {

        /* padding-left:0.6rem; */
        padding-right: 1.15rem;
        font-size: 0.55rem;
      }
    }
  }

  & .stats-field-name {
    margin-top: 0.175rem;
    font-size: 0.5rem;
    width: 3.0rem;
    flex-direction: row;
    gap: 0.5rem;
    padding-left: 0;
    z-index: 200;

    &::after {
      content: '';
      background: none;
    }
  }

  & .stats-field-value {
    transform-origin: center;
    position: relative;
    color: rgb(var(--theme-0-cell-color-1));
    /* filter: contrast(0.8); */
    padding-left: 1rem;
    width: 4rem;

    font-family: "Premier2019";
    letter-spacing: 0.15rem;
    transform: scaleX(1.5);
    transform-origin: right;
    padding-bottom: 0.03125rem;
    text-align: center;
    width: auto;
    min-width: 0.5rem;
    padding-top: 0rem;
    text-align: center;

    &::before {
      content: attr(data-label);
      color: rgba(26, 26, 26, 0.7);
      z-index: -1;
      left: calc(50% + 0.0625rem);
      position: relative;
      /* left: 0.575rem; */
      top: 0.0625rem;
      height: 100%;
      width: 100%;
      /* background-color: green; */
    }
  }

  & .stats-field-value-bg {
    background: none;
  }
}

.stats-field {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  padding-left: 0rem;
  top: 0.2rem;
  overflow: hidden;
  border: 0.03125rem solid rgba(200, 200, 200, 0.5);
  border-radius: 0.625rem;
  /* border-top-right-radius: 0; */
  /* border-bottom-left-radius: 0; */

  /* border-top: none; */
}

.stats-field-name {
  line-height: 1.4rem;
  font-size: 0.7rem;
  /* text-transform: uppercase; */
  position: relative;
  transform: translateY(0rem) scaleX(1.1) skew(-6deg);

  margin: 0;
  padding-bottom: 0;
  padding-left: 0.1rem;
  padding-top: 0rem;
  margin-left: 0.4375rem;
  font-family: 'Brick3DRegular';
  color: rgb(240, 248, 255, 0.9);

  letter-spacing: 0.15em;
  opacity: 0.85;

  &::before {
    content: attr(data-label);
    color: rgba(0, 0, 0, 1);
    z-index: -1;
    position: absolute;
    left: 0.0625rem;
    top: 0.0625rem;
    height: 100%;
    width: 100%;
    /* text-shadow: rgba(0,128,196,0.4) 0rem 0.1rem 0.5rem; */
    /* background-color: green; */
  }

  &::after {
    content: ' ';
    color: rgba(26, 26, 26, 0.7);
    z-index: -10;
    position: absolute;
    left: -0.325rem;
    top: -0.05rem;
    height: 96%;
    width: 7.28125rem;
    transform: skew(6deg);
    /* text-shadow: rgba(0,128,196,0.4) 0rem 0.1rem 0.5rem; */
    /* background-color: rgba(26,26,26,0.9); */
    background-image: linear-gradient(-0.63turn,
        hsla(200, 10%, 10%, 0.85),
        /* rgba(26,52,52,0.5),  */
        hsla(233, 10%, 10%, 0.85),
        hsla(266, 10%, 10%, 0.85),
        hsla(300, 0%, 0%, 0.65));
    border-radius: 0.625rem;
    /* border-top-left-radius: 0.3125rem; */
    border-top-right-radius: 0;
    border-bottom-left-radius: 0rem;
    border-bottom-right-radius: 0rem;
    border-bottom: 0.03125rem solid rgba(200, 200, 200, 0.3);
    /* border-right: 0.03125rem solid rgba(200,200,200,0.3); */
  }
}

.stats-field-value-bg {
  line-height: 1.4rem;
  width: 8rem;
  /* background-color: rgb(26 26 26 / 0.732); */
  /* background-color: rgba(30,30,30, 0.7); */

  &::before {
    content: ' ';
    position: absolute;
    top: 0rem;
    left: 0.0rem;
    height: 100%;
    width: 100%;
    z-index: -101;
    background-image: linear-gradient(-0.63turn,
        hsla(200, 33%, 15%, 0.65),
        /* rgba(26,52,52,0.5),  */
        hsla(233, 20%, 20%, 0.65),
        hsla(266, 20%, 10%, 0.55),
        hsla(300, 0%, 0%, 0.45));
    /* box-shadow: 0.0rem 0.0625rem 0.0 0.0rem hsla(319, 20%, 30%, 0.4); */
    /* box-shadow: 0.03125rem 0.0625rem 0rem 0.0rem hsla(319, 10%, 40%, 0.6); */

    /* border-radius: 0.625rem; */
    border-bottom-left-radius: 0;
    border-top-right-radius: 0;
    /* border-bottom-right-radius: 0; */
    /* transform: skew(-0deg); */
  }
}

.stats-field-value {
  position: relative;
  padding-top: 0;
  padding-right: 0.3rem;
  margin: 0;
  color: rgb(250 204 21 / 0.92);
  text-align: center;
  font-family: "Premier2019";
  /* transform: scaleX(1.5) skew(-20deg); */
  transform: scaleX(1.5) skew(-3deg) translateY(-0.05rem);
  transform-origin: right;
  font-size: 0.9rem;
  letter-spacing: 0.1rem;

  &::before {
    content: attr(data-label);
    color: rgba(26, 26, 26, 0.7);
    z-index: -1;
    position: absolute;
    left: -0.08125rem;
    top: 0.09375rem;
    height: 100%;
    width: 100%;
    /* background-color: green; */
  }
}

.digital {
  font-family: 'SF Digital Heavy';
  letter-spacing: 0.15rem;
}



.logo {
  height: 6em;
  padding: 1.5em;
}

.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}

.logo.preact:hover {
  filter: drop-shadow(0 0 2em #673ab8aa);
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}

.tetris-font {
  font-family: 'Brick3DRegular';
  letter-spacing: 0.1rem;
}

.drop-effect {
  position: absolute;
  background-image: var(--drop-effect-gradient);
  z-index: var(--effect-z-index);
}

.clear-effect {
  position: absolute;
  /* background-image: linear-gradient(90deg, rgba(255,255,255,0),rgba(255,255,255,0.75),rgba(255,255,255,1),rgba(255,255,255,0.75),rgba(255,255,255,0)); */
  background-image: var(--clear-effect-gradient);
  z-index: var(--effect-z-index);
}

.game-sounds {
  /* display: flex; */
  display: none;
  /* position: absolute;
  top: 11.125rem;
  left: 3.66rem; */
  background-color: rgb(26, 26, 26, 0.8);
  border: 1px solid rgba(226, 232, 240, 0.6);
  border-radius: 0.5rem;
  gap: 0.0rem;
  margin-top: 1rem;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  width: 8rem;
  height: 4rem;
  padding-top: 0.15rem;
  padding-bottom: 0.15rem;
  line-height: 1.55rem;
}

.switch-icon {
  position: relative;
  height: 14px;
  width: 14px;
  /* position: absolute; */
  filter: contrast(1);
  opacity: 1;
  /* background-color: green; */
  content: '.';
  z-index: 1;
  /* box-shadow: #00ff7b 0 0 0.5rem 0.5rem; */

  &::before {
    filter: contrast(1);
    z-index: -100;
    display: block;
    content: ' ';
    position: relative;
    top: -50%;
    left: -50%;
    height: 200%;
    width: 200%;
    /* background-image: radial-gradient(circle at center,hsla(150, 100%, 0%, 0.8) 0%, hsla(200, 100%, 0%, 0.3) 50%, #00000000 72%); */
  }


  &.sound {
    background-image: url('assets/icon_mute.png');
    background-size: 14px 14px;
    height: 14px;
    width: 14px;

    &::after {
      filter: contrast(0);
      z-index: 200;
      display: block;
      content: url('assets/icon_mute.png');
      transform: scale(0.11);

      position: absolute;
      top: -3.78rem;
      left: -3.6rem;
      background-position: 0 0;
    }

    &.enabled {
      background-image: url('assets/icon_sound.png');
      filter: contrast(1);

      &::before {
        background-image: radial-gradient(circle at center, hsla(150, 100%, 50%, 0.8) 0%, hsla(200, 100%, 50%, 0.3) 50%, #00000000 72%);
        /* animation: music-switch-beat 1.7s ease-in-out infinite; */
        animation-delay: 0;
        transform: scale(1.1);
        animation-iteration-count: infinite;
        background-size: 26px 26px;
        background-position: 2px 2px;
        background-repeat: no-repeat;

        filter: contrast(1);
        position: absolute;
        top: -8px;
        left: -7px;
        height: 30px;
        width: 30px;
        content: ' ';
        z-index: -1;
        overflow: visible;
        /* box-shadow: #00ff7b99 0 0 0.5rem 0.5rem; */
      }

      &::after {
        /* background-image: url('assets/icon_sound.png'); */
        background-size: 14px 14px;
        filter: contrast(0.8);
        position: absolute;
        top: 0px;
        left: 0px;
        height: 14px;
        width: 14px;
        content: ' ';
        z-index: 200;
        overflow: visible;
        /* box-shadow: #00ff7b99 0 0 0.5rem 0.5rem; */
      }
    }
  }

  &.music {
    background-image: url('assets/icon_music.png');
    background-size: 14px 14px;

    &::after {
      filter: contrast(0);
      z-index: 200;
      display: block;
      content: url('assets/icon_music.png');
      transform: scale(0.11);

      position: absolute;
      top: -3.78rem;
      left: -3.60rem;
      background-position: 0 0;
    }

    &.enabled {
      z-index: 100;
      filter: contrast(1);
      overflow: visible;

      &::before {
        background-image: radial-gradient(circle at center, hsla(150, 100%, 50%, 0.9) 0%, hsla(200, 100%, 50%, 0.3) 50%, #00000000 72%);
        animation: music-switch-beat 1.7s ease-in-out infinite;
        animation-delay: 0;
        animation-iteration-count: infinite;
        background-size: 26px 26px;
        background-position: 2px 2px;
        background-repeat: no-repeat;

        filter: contrast(1);
        position: absolute;
        top: -8px;
        left: -7px;
        height: 30px;
        width: 30px;
        content: ' ';
        z-index: -1;
        overflow: visible;
        /* box-shadow: #00ff7b99 0 0 0.5rem 0.5rem; */
      }

      &::after {
        /* background-image: url('assets/icon_music.png'); */
        background-size: 14px 14px;
        filter: contrast(0.8);
        position: absolute;
        top: 0px;
        left: 0px;
        height: 14px;
        width: 14px;
        content: ' ';
        z-index: 200;
        overflow: visible;
        content: ' '
          /* box-shadow: #00ff7b99 0 0 0.5rem 0.5rem; */
      }
    }
  }
}


@keyframes music-switch-beat {
  0% {
    transform: scale(1.2);
    opacity: 0.6;
  }

  50% {
    transform: scale(1);
    opacity: 0.8;
  }

  100% {
    transform: scale(1.2);
    opacity: 0.6;
  }
}

.sound-switch {
  display: flex;
  gap: 0.5rem;
  justify-content: space-between;
  width: 6rem;

  & img::before {
    position: absolute;
    height: 100%;
    width: 100%;
    background-color: green;
    content: '.';
    box-shadow: rgb(0, 255, 123) 0 0 0.5rem 0.5rem;
  }
}

.game-sounds[data-layout="mobile"] {
  transform: scale(1.25);
  left: calc(50% - 0rem - 6.8rem);
  gap: 1.2rem;
  width: 4rem;
  /* position: absolute; */
  top: 3.1rem;
  /* left: 0rem; */
  background: none;
  border: none;
  flex-direction: row;
  font-size: 1rem;
  padding-top: 0.15rem;
  padding-bottom: 0.15rem;
  line-height: inherit;

  position: fixed;
  top: -15%;
  left: 26%;

  .sound-switch {
    display: flex;
    gap: 0rem;
    justify-content: space-between;
    width: 3.2rem;

    & label {
      font-size: 0.4rem;
      margin-right: 0rem;
      padding-top: 0.25rem;
      transform: skew(-10deg);
    }

    & input {
      font-size: 0.35rem;
      margin-left: -1rem;
      padding-top: 0.25rem;

    }
  }
}

.game-sounds label {
  font-family: 'Brick3DRegular';
  /* width: 7rem; */
  font-size: 0.8rem;
  padding-top: 0rem;
  color: aliceblue;
  opacity: 0.8;
  text-shadow: rgba(0, 128, 196, 0.7) 0rem 0.1rem 0.5rem;
  padding-top: 0.2rem;
}

.game-sounds label::before {
  /* font-size: 0.6rem; */
}

.game-sounds label::after {
  /* font-size: 0.6rem; */
}

.game-title {
  padding-left: 0.6rem;
  padding-top: 24px;
  line-height: 40px;
  letter-spacing: 0.3em;
  font-family: "Brick3DRegular";
  font-weight: 300;
  font-size: 2.5rem;
  color: aliceblue;
  /* text-shadow: rgba(0,128,196,0.9) 0rem 0.2rem 0.7rem; */
  animation: glow 1s ease-in-out infinite alternate;
  -webkit-animation: glow 4s ease-in-out infinite alternate;
  opacity: 0.8;
}

/*

RESTART, PAUSE, RESUME etc..

*/
.menu-button {
  text-transform: uppercase;
  color: aliceblue;
  text-shadow: rgba(0, 128, 196, 0.9) 0rem 0.1rem 0.7rem;
  opacity: 0.8;
  font-family: "Brick3DRegular";
  color: aliceblue;
  text-shadow: rgba(0, 128, 196, 0.9) 0rem 0.1rem 0.7rem;
  opacity: 0.8;
  width: 8rem;
  margin: 0.3rem;
  padding: 0.5rem;
  padding-top: 0.7rem;
  font-size: 1rem;
  border-color: rgb(226 232 240 / 1);
  /* border-color: rgb(48 41 61 / 80%); */
}

.menu-button.disabled {
  border: 1px rgba(255, 255, 255, 0.4) solid;
  color: rgba(240, 248, 255, 0.5);
}

/*

Keyboard Controls Map UI

*/
.game-control-map {
  margin-top: 1.0rem;
  /* background-color: rgb(26, 26, 26, 0.8); */
  /* border: 1px rgba(148, 163, 184, 0.8) solid; */
  /* border: 1px solid rgba(226,232,240,0.6); */
  /* padding-top: 0.1rem; */
  padding-bottom: 0.5rem;

  & .btn-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;

    & .btn-rot-l {
      margin-top: 1rem;
    }

    & .btn-rot-r {
      margin-top: 1rem;
    }
  }

  & .btn-col {
    display: flex;
    gap: 0.5rem;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* filter: drop-shadow(0 0 0.25rem rgba(104, 104, 104, 0.6)); */

  & .game-control-button {
    /* border: 1px rgba(255,255,255,0.6) solid; */
    border: 0.0625rem rgba(148, 163, 184, 0.8) solid;
    background-color: rgb(26, 26, 26, 0.7);
    color: rgba(255, 255, 255, 0.8);
    border-radius: 0.375rem;
    height: 2rem;
    width: 2rem;
    touch-action: manipulation;

    &.clicked {
      background-color: rgb(107, 107, 107);
    }

    &.btn-hold {
      line-height: 0.9rem;
      padding: 0;
    }

    &.btn-drop {
      line-height: 1.1rem;
      padding: 0;
      /* height: 0rem; */

      & > div {
        padding-left: 0.1rem;
        margin-top: -0.2rem;
        font-size: 0.5rem;
        font-weight: bold;
        letter-spacing: 0.1rem;
        font-family: "Brick3DRegular";
      }
    }

    & .subtext {

      & > div {
        text-transform: uppercase;
        /* display: block; */
        flex-direction: column;
        gap: 0;
      }
    }
  }
}

.board-grid {
  z-index: 3000;
  height: 24rem;
  width: 10rem;
  background-color: #0000;
  display: block;
  flex-direction: column;
  gap: none;
  box-sizing: content-box;

  &.active-piece-layer {
    z-index: 0;
    position: absolute;
    top: calc(var(--board-grid-mask-padding));
    left: calc(var(--board-grid-mask-padding));
  }
}

.piece-que-container {

  --hold-que-t-y: translateY(calc((100% - var(--piece-que-item-scale))/ -2));
  --hold-que-t-x: translateX(calc((100% - var(--piece-que-item-scale) - 8%)/ -2));
  transform: var(--hold-que-t-x) var(--hold-que-t-y) scale(var(--piece-que-item-scale));
  /* tw-overflow-y-hidden tw-box-border tw-flex tw-relative tw-flex-col tw-w-24 tw-items-center tw-justify-start tw-gap-0 tw-mt-0 tw-bg-black tw-rounded-xl tw-pt-4 tw-pb-8 */
  overflow-y: hidden;
  box-sizing: border-box;
  display: flex;
  position: relative;
  flex-direction: column;
  width: 6rem;
  align-items: center;
  justify-content: flex-start;
  /* align at top */
  gap: 0;
  margin-top: 0;
  margin-bottom: 0;
  height: 22rem;

  background-color: rgba(30, 45, 60, 0.4);
  padding-top: 1rem;
  border-top-left-radius: 1rem;
  border-top-right-radius: 0rem;
  border-bottom-left-radius: 0rem;
  border-bottom-right-radius: 1rem;


  z-index: -1;
  border: 0.09375rem solid rgba(200, 200, 200, 0.6);
  z-index: -1;

  & h5 {
    font-family: "Brick3DRegular";
    letter-spacing: 0.15rem;
    text-shadow: var(--toast-pink-800) 0 0.1rem 0.1rem;
  }

  & h5::before {
    position: absolute;
    top: 0.0625rem;
    left: 0.09375rem;
    color: black;
    z-index: -1;
    text-shadow: #000C 0 0.0625rem 0 0;
  }

  /* &[data-layout="mobile"] {
    
  } */
}

.hold-que {
  --hold-que-t-y: translateY(calc((100% - var(--piece-que-item-scale))/ -2));
  --hold-que-t-x: translateX(calc((100% - var(--piece-que-item-scale) - 8%)/ 2));
  transform: var(--hold-que-t-x) var(--hold-que-t-y) scale(var(--piece-que-item-scale));

  border-top-right-radius: 1rem;
  border-top-left-radius: 0rem;
  border-bottom-left-radius: 1rem;
  border-bottom-right-radius: 0rem;
  margin-bottom: 16rem;
  height: 6rem;
  touch-action: manipulation;
  pointer-events: all;
  background-color: rgba(30, 45, 60, 0.4);
}

.board-grid-mask {
  padding: var(--board-grid-mask-padding);
  height: 20rem;
  overflow: hidden;
  box-sizing: content-box;
  position: relative;
  border: var(--board-grid-mask-border-width) solid rgba(200, 200, 200, 0.6);
}

#GamePanel {
  position: relative;
  z-index: 201;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  flex-basis: 40%;
  height: 100%;
  margin-top: -0.75%;
  /* flex: 2fr; */
  /* flex-basis: 2fr; */


}

[data-has-touch='true'] {
  & #GamePanel {
    width: 50%;
    top: 18%;
    height: 82%;
    left: 25%;
    position: absolute;
    justify-content: flex-start;

    & > div {
      transform-origin: 50% 18%;
    }
  }

  & #StatsPanel {
    position: absolute;
    left: 0;
    top: 1%;
    width: 100%;
    align-items: center;
    justify-content: flex-start;

    & > div {
      height: 10%;
      flex-direction: row;
      transform-origin: center;
      height: auto;
      overflow: visible;
    }
  }

  & #MenuPanel {
    position: absolute;
    width: 100%;
    left: 0;
    top: 20%;
    align-items: center;
    transform-origin: top;
    justify-content: flex-start;
    height: auto;

    & > div {
      transform: scale(1) !important;
      flex-direction: row-reverse;
      transform-origin: top;
      height: 10%;
      width: 90%;
      justify-content: space-between;

      & .game-control-map {
        display: none;
      }
    }
  }
}

#StatsPanel,
#MenuPanel {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
  /* height: 22rem; */
  width: 22.5%;
  z-index: 200;
}

@media (orientation: landscape) {

  #StatsPanel,
  #MenuPanel {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
    /* height: 22rem; */
    width: 25%;
  }
}

#MenuPanel {
  transform-origin: 100%;
  align-items: flex-end;
}

#StatsPanel {
  transform-origin: 0%;
  align-items: flex-start;
}

[data-layout="mobile"] {

  & #MenuPanelScaleWrapper {
    transform-origin: 50% -20%;
    position: relative;
    width: 360px;
    height: 360px;
    /* top:-20% */
    /* bottom: 0;
    top: 7rem;
    left: 0;
    right: 0; */
  }

  & #StatsPanelScaleWrapper {
    transform-origin: right;
  }

  & #GameScaleWrapper,
  #MenuPanelScaleWrapper,
  #StatsPanelScaleWrapper {
    transition: transform 0.3s linear;
    /* transform: scale(0.3); */
    /* background-color: green; */
    /* box-shadow: #000F 0rem 0rem 0.525rem 0.525rem; */
  }
}

[data-layout="mobile"] #GameScaleWrapper {
  transform-origin: top;
}

[data-layout="mobile"] #GamePanel {
  /* flex-basis: 100%; */
  position: absolute;
  top: max(6.5rem, 12.5vh);
  height: 100%;

  width: 100%;
  justify-content: flex-start;
}

[data-layout="mobile"] #MenuPanel {
  top: max(11.5rem, 22.5vh);
  flex-basis: 100%;
  position: absolute;
  /* top: 8rem; */
  /* height: auto; */
  transform-origin: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;


  position: absolute;
  width: 100%;
  bottom: 5%;
  /* top: 0; */
  left: 0;
  right: 0;
}

[data-layout="mobile"] #StatsPanel {
  position: absolute;
  /* top: 8rem; */
  height: 15%;
  right: 0;
  width: 50%;
  transform-origin: 50%;
  justify-content: flex-start;
}


.game-container {
  /* transform: scale(1.2); */
  display: flex;
  gap: 0;
  flex-direction: row;
  align-items: flex-start;
  /* background-color:rgba(51, 65, 85, 0.2); */
  border-radius: 0.75rem;
  height: 100%;
  padding: 0;
  /* padding-top: 2rem; */
  /* margin-left: -1rem;
  margin-right: -1rem; */
  z-index: 3000;
  transform: translateY(1rem)
}

.game-container[data-layout="mobile"] {
  /* transform: scale(1.2); */
  /* position:absolute; */
  top: 4.2rem;
  display: flex;
  gap: 0;
  flex-direction: row;
  align-items: flex-start;
  /* background-color:rgba(51, 65, 85, 0.2); */
  border-radius: 0.75rem;
  height: 100%;
  padding: 0;
  margin-left: -1rem;
  margin-right: -1rem;
  width: 21rem;
}

#OptionsModal {
  position: absolute;
  top: 100%;
  left: 5%;
  width: 90%;
  border-radius: 10vw 10vw;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  height: 100vh;
  box-sizing: border-box;
  background-color: rgb(26, 26, 26, 0.8);
  border: 0.0625rem outset hsl(208, 30%, 60%);
  /* border-style: ridge; */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding-top: 0.5rem;
  transform-origin: 50% 0%;
  box-shadow: inset #000D 0 0 0.0625rem 0.03125rem, 0rem -2rem 0.5rem 4rem #0009;
  /* transition: all 0.5s; */

  & #OptionsOpenButton {
    position: relative;
    box-sizing: content-box;
    background-image: linear-gradient(rgb(26, 26, 26, 0.6), rgb(26, 26, 26, 1), rgb(26, 26, 26, 0.6));
    border: 0.0625rem outset hsl(208, 30%, 60%);
    box-shadow: #000D 0 0 0.0625rem 0.03125rem, inset #CFF6 0.09375rem 0.09375rem 0.25rem 0.125rem;
    margin-top: -1.4rem;
    border-radius: 50%;
    height: 1.6rem;
    width: 1.6rem;
    /* margin-top: 0.5rem; */
    transition: transform 0.3s ease-out;

    &::after {
      transition: transform 0.6s ease-out;
      position: absolute;
      top: 0rem;
      left: 0rem;
      height: 100%;
      width: 100%;
      content: ' ';
      background-size: 1.6rem;
      background-repeat: no-repeat;
      background-image: url('assets/settings.png');
      opacity: 0.9;
      filter: contrast(0);
      transform: rotate(0deg) scale(0.84);
    }

    &.open {
      transform: scale(1);
    }

    &.open::after {
      transform: rotate(540deg) scale(0.84);
    }

    &.close {
      transform: scale(1.5);
    }

    &.close::after {
      transform: rotate(0deg) scale(0.84);
    }
  }
}

/* @keyframes flip-icon {
  0% {
    transform: rotate(0deg) scale(1.5);
  }

  100% {
    transform: rotate(180deg) scale(1);
  }
}

@keyframes flip-icon2 {
  0% {
    transform: rotate(180deg) scale(1);
  }

  100% {
    transform: rotate(0deg) scale(1.5);
  }
} */

div#GameoverLeft {
  opacity: 0;
  animation: slam-left-to-right 0.6s ease-in 2.0s;
  margin: 0.25rem;
}

div#GameoverRight {
  opacity: 0;
  animation: slam-right-to-left 0.6s ease-in 3.0s;
  margin: 0.25rem;
}

#PauseOverlay.animate-gameover {

  perspective-origin: 50%;
  perspective: 10rem;

  animation: waterfall 1.0s ease-in;
  text-shadow: 0.1rem 0.2rem 0.3rem #000C;
}

#PauseOverlay {

  perspective-origin: 50%;
  perspective: 10rem;

  &.animate-pause {
    animation: pause-in 0.4s ease-in;

    & .pause-text {
      text-shadow: 0.1rem 0.2rem 0.3rem #000C;
      animation: pause-in-text 0.4s ease-in;
    }
  }

  &.animate-unpause {
    transform: scale(0);
    animation: unpause-out 0.4s ease-out;

    & .pause-text {
      text-shadow: 0.1rem 0.2rem 0.3rem #000C;
      animation: pause-in-text 0.4s ease-out;
      animation-direction: reverse;
    }
  }
}

@keyframes pause-in {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }

  70% {
    transform: scale(1.1);
    opacity: 0.9;
  }

  100% {
    transform: scale(1.0);
    opacity: 1;
  }
}

@keyframes unpause-out {
  0% {
    transform: scale(1);
    opacity: 1;
  }

  30% {
    transform: scale(1.1);
    opacity: 0.9;
  }

  100% {
    transform: scale(0);
    opacity: 0;
  }
}

@keyframes pause-in-text {
  0% {
    text-shadow: 0.1rem 0.2rem 0.3rem #000C;
  }

  60% {
    text-shadow: 0.2rem 0.5rem 0.4rem #000F;
  }

  100% {
    text-shadow: 0.1rem 0.2rem 0.3rem #000C;
  }
}

.pause-overlay {

  z-index: 3600;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  width: 10rem;
  height: 20rem;
  background-color: rgb(0 0 0 / 0.4);
  top: 0;
  left: 0;
  user-select: none;

  & div {
    color: hsl(240, 5%, 85%);
    font-size: 1.5rem
      /* 20px */
    ;
    line-height: 2.0rem
      /* 28px */
    ;
    text-align: center;
  }
}

.board-background {
  position: absolute;
  opacity: 0.5;
  transform: translate(0.09375rem, 0.09375rem);
  height: 20rem;
  width: 10rem;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.col {
  box-sizing: border-box;
  background: transparent;
  height: 1rem;
  width: 1rem;
  border: 0.0625rem inset rgba(61, 45, 73, 0.4);
  border-radius: 0.09375rem;
}

.row {
  display: flex;
  flex-direction: row;
  gap: 0;
  box-sizing: border-box;
  background: transparent;
  height: 1rem;
  width: 10rem;
}


.grid-rows {
  background-image:
    repeating-linear-gradient(rgba(61, 45, 73, 0.5) 0rem,
      rgba(30, 45, 60, 0.5) 1rem),
    repeating-linear-gradient(0.25turn,
      rgba(61, 45, 73, 0.5) 0rem,
      rgba(30, 45, 60, 0.5) 1rem);
}

.panels-container {
  /* z-index:1000; */
  position: relative;
  /* display: flex; */
  align-items: center;
  justify-content: space-between;
  gap: 0;
  border: rgb(243 244 246 / 1);
  margin-top: 0;
}

.panels-container[data-layout="mobile"] {
  margin-top: 0;
  position: relative;
  display: flex;
  /* display: block; */
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  gap: 0;
  border: rgb(243 244 246 / 1);
}

#MenuPanelScaleWrapper {
  /* height: 100%; */
  /* flex-basis:content; */
  /* transform: scale(1.5); */
  transform-origin: top right;
  height: 21rem;
  /* width: 20%; */
  margin: 0;
  /* padding-top: 1rem; */
  /* padding-bottom: 1rem; */
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
  align-items: center;
  justify-content: flex-start;
  /* padding-top: 1.1rem; */
}

div[data-layout="mobile"] {

  & .game-control-button {
    transform: scale(var(--scale-control-button-mobile));
    touch-action: manipulation;
    overflow: hidden;
    user-select: none;
  }

  & .btn-row {
    gap: 11rem;

    & .btn-rot-l {
      /* transform: var(--scale-control-button-mobile) rotate(-90deg); */
      margin-top: 1rem;
      padding-bottom: 0;
      left: 16.25rem;
      top: 3.75rem;
      line-height: 1.9rem;
    }

    & .btn-rot-r {
      /* transform: var(--scale-control-button-mobile) rotate(90deg); */
      margin-top: 1rem;
      padding-bottom: 0;
      left: -6.25rem;
      top: 3.75rem;
      line-height: 1.9rem;
    }

    & .btn-hold {
      transform: scale(calc(var(--scale-control-button-mobile) + 0.25));
      /* display: none; */
      height: 1rem;
      left: 7.25rem;
      top: 0.5rem;
      padding-top: 0rem;
      line-height: 0.85rem;
    }

    & .btn-drop {
      transform: scale(calc(var(--scale-control-button-mobile) + 0.25));
      left: -7.25rem;
      top: -2.0rem;
      gap: 0;
      line-height: 2rem;

      & > div {
        margin-top: 0.39rem;
      }
    }

    & .btn-left {
      top: 0.5rem;
      left: 0.25rem;
      line-height: 1.8rem;
    }

    & .btn-right {
      top: 0.5rem;
      left: -10.25rem;
      line-height: 1.8rem;
    }

    & .btn-down {
      top: 2.25rem;
      left: -5rem;
      line-height: 1.8rem;
    }

  }

  & .btn-row:nth-child(2) {
    gap: 5rem;
  }
}

.menu-panel[data-layout="mobile"] #MenuPanelScaleWrapper {
  /* position:fixed; */
  pointer-events: none;
  z-index: 3999;
  /* width: 100%; */

  & .menu-button {
    pointer-events: all;
    color: aliceblue;
    text-shadow: rgba(0, 128, 196, 0.9) 0rem 0.1rem 0.7rem;
    opacity: 0.8;
    width: 2rem;
    height: 2rem;
    margin: 0rem;
    padding: 0rem;

    letter-spacing: 0.05rem;
    /* height: 2rem; */
    font-size: 2rem;
    border-color: hsl(214, 30%, 60%);
    /* border-color: rgb(141 112 194); */
    font-family: sans-serif;
  }

  & .menu-button.disabled {
    opacity: 0.9;
    border: 1px rgb(50 40 60 / 100%) solid;
    color: rgba(240, 248, 255, 0.6);


  }

  & .menu-button.btn-restart {
    display: none;
    position: fixed;
    top: -10%;
    left: 30%;
    left: 7.6rem;
    line-height: 1.5rem;
    /* top: -3.55rem; */
    padding: 0.275rem 0.2rem 0.15rem 0.25rem;
    font-size: 0.6rem;
    /* letter-spacing: 0; */
    font-family: 'Brick3DRegular';
    width: 3.2rem;
  }

  & .menu-button.btn-pause {
    display: none;
    position: fixed;
    line-height: 1.5rem;

    top: -10%;
    left: 40%;

    padding: 0.275rem 0.2rem 0.15rem 0.3rem;
    /* height: 2rem; */
    /* letter-spacing: 0; */
    font-size: 0.6rem;
    font-family: 'Brick3DRegular';
    width: 3.2rem;
  }

  .game-control-map {
    position: absolute;
    bottom: 2rem;
    /* margin-top: 15rem; */
    background-color: transparent;
    border: none;
    padding-top: 0.1rem;
    padding-bottom: 0.5rem;
    gap: 0rem;
    transform: scale(0.96) translateY(-0.6rem);

    & .game-control-button {
      pointer-events: all;
      border: none;
      opacity: 0.5;
      color: rgba(255, 255, 255, 0.8);
      box-shadow: inset 0rem 0.0rem 0 0.03125rem rgb(120 135 150 / 0.8);
      background-color: rgb(17 24 39 / 1);
      /* background-color: rgb(26, 26, 26, 0.8); */
      /* border-radius: 0.375rem; */
      border-radius: 30%;
      width: 2rem;
      height: 2rem;
      position: relative;

      &.clicked {
        background-color: rgb(107, 107, 107);
      }

      &.subtext {
        display: flex;
        flex-direction: column;
        gap: 0;
      }

      &.subtext.btn-hold {
        flex-direction: none;
        gap: none;
      }

    }
  }
}

.slider-container {
  display: none;
  flex-direction: row;
  background-color: gray;
  position: relative;
  align-items: center;
  width: 6rem;
  height: 3rem;
  padding: 0 0.5rem;
  border-radius: 1.5rem;
}

.slider-range-label {
  flex: 1fr;
  font-size: 0.75rem;
}

.slider-track {
  position: relative;
  width: 100%;
  height: 1rem;
  /* background-color: red; */
  margin: 0 0.5rem;
}

.slider-track::before {
  position: absolute;
  content: ' ';
  left: 0;

  top: 25%;
  height: 50%;
  width: calc(100% + 0.5rem);
  border-radius: 0.5rem;
  background-color: black;
  margin: 0;
  transform: translateX(-0.25rem);
}

.slider-thumb {
  position: absolute;
  height: 1rem;
  width: 1rem;
  top: 0rem;
  border-radius: 50%;
  background-color: white;
  box-shadow: inset -.05rem -.05rem 0.3rem #000F;
  margin-left: -0.5rem;
  /* border: 0.0625rem solid black; */
}

#GoogleSignUp {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
}

.options-group {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  gap: 1rem;
  /* align-items: center; */
  width: 95%;
  margin-top: 2rem;

  & > h3 {
    margin: 0;
    padding: 0;
  }

  & > :nth-child(1) {
    width: 35%;
    text-align: right;
  }

  & > :nth-child(2) {
    width: 35%;
    text-align: left;

    & > div {
      justify-content: space-between;
    }
  }
}

.control-stick {
  touch-action: manipulation;

  &.on {
    animation: fade-in 0.2s;
  }
}

/* @media (orientation: portrait) { */

#ControlStickRegion {
  touch-action: manipulation;
  position: absolute;
  left: 10%;
  right: 22%;
  top: 30%;
  bottom: -50%;
  z-index: 4000;
  /* background-color: rgb(0 128 0 / 0.5); */

  #StickPerimeter {
    pointer-events: none;
    touch-action: manipulation;
  }

  #StickThumb {
    pointer-events: none;
    touch-action: manipulation;
  }


  & > svg {
    touch-action: manipulation;
    transition: opacity 0.3s ease-in;

    opacity: 0;

    &.on {
      opacity: 0.2;
    }

    &.off {
      opacity: 0;
    }
  }
}

/* } */

/* @media (orientation: landscape) { */
#ControlStickRegion {
  position: absolute;
  left: -100%;
  right: 20%;
  top: 30%;
  bottom: 0%;
  z-index: 4000;
  /* background-color: rgb(0 128 0 / 0.5); */


  & > svg {
    /* background-color: #ff7f5099; */
    /* border: 1px solid white; */
    transition: opacity 0.3s ease-in;

    opacity: 0;

    &.on {
      opacity: 0.2;
    }

    &.off {
      opacity: 0;
    }
  }
}

/* } */

@keyframes fade-in-touch-ui {
  0% {
    opacity: 0
  }

  100% {
    opacity: 0
  }
}

.overlay-button {
  border-color: rgb(226 232 240 / 1);
  opacity: 0.8;
  position: absolute;
  top: 20%;
  transform: scale(0.8);
  width: 6rem;
  opacity: 0;
  border-radius: 1.5rem;


  transition: opacity 0.5s;

  &.show {
    /* transition-delay: 0.3s; */
    opacity: 0.8;
  }

  &.hide {
    pointer-events: none;
    opacity: 0;
  }

  &:nth-child(2) {

    filter: contrast(1);
    width: 3rem;
    top: 65%;
    border: none;
    height: 3rem;
    border-radius: 1.5rem;
    box-shadow: #000C 0 0.0625rem 0.0625rem 0.0625rem, inset #0008 0 0.3125rem 0.0625rem 0.0625rem;
    background-color: transparent;
    background-size: 3rem 3rem;
    background-position: 0 0.1rem;
    background-repeat: no-repeat;
    background-image: url('assets/play-circle.png');


    &::before {
      content: ' ';
      filter: contrast(0);
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 100%;
      border-radius: 1.5rem;
      /* background-color: green; */
      background-image: url('assets/play-circle.png');
      background-size: 3rem 3rem;
      background-repeat: no-repeat;
    }
  }
}

/* @media (orientation: landscape) { */
/* #ButtonControls {
  z-index: 4001;
  position: absolute;
  top: 60%;
  bottom: 10%;
  --game-scale: attr(data-scale);
  right: 0%;
  width: 0%;
  pointer-events: stroke;
  touch-action: manipulation;
} */

/* } */


/* } */

#TouchControls {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 4002;
  touch-action: manipulation;
}

#ButtonControls {

  /* transform: scale(0.5) !important; */

  /* z-index: 4001;
  position: absolute;
  top: 40%;
  bottom: -20%;
  right: 0%;
  width: 20%;
  background-color: green;
  pointer-events: stroke;*/
  touch-action: manipulation;
  font-size: 1.6rem;
  font-weight: bold;
  opacity: 0.8;

  & > .touch-button {
    /* color: black;
    z-index: 0;
    position: relative;
    line-height: 3.2rem;
    height: 3.5rem;
    width: 3.5rem;
    border-radius: 1.75rem;
    background-color: purple;

    box-shadow: inset 0 -0.4625rem 1.025rem 0.09375rem #000D,
      0.115rem 0.03125rem 0.0625rem 0.0625rem #0003; */

    touch-action: manipulation;
    transition: all 0.1s linear;
    position: relative;
    /*   transform: scale(1); */
    height: 3rem;
    width: 3rem;
    background-color: #E83333;
    border-radius: 100px;
    overflow: hidden;
    box-shadow:
      -0.015625rem -0.03125rem 0.03125rem 0.09375rem #FFF9,
      0.25rem 0.5rem 0.25rem 0 #0009,
      inset 0.0625rem 0.125rem 0.125rem 0 #0009;


    &::before {
      /* position: absolute;
      top: 0.09375rem;
      color: white;
      z-index: 1;
      left: 0;
      content: attr(data-char);
      height: 100%;
      width: 100%;
      border-radius: 1.75rem; */
      /* box-shadow: inset 0 -0.1625rem 0.225rem 0.19375rem #0006 */
      content: attr(data-char);
      color: rgb(255 255 255 / 0.8);
      font-size: 1.6rem;
      margin-left: -0.25rem;
      text-align: center;
      /* font-family: sans-serif; */
      font-weight: bold;
      vertical-align: middle;
      line-height: 2.5rem;
      height: 100%;
      width: 96%;
      position: absolute;
      top: 10%;
      left: 14%;
      border-radius: 50%;

      box-shadow: 0 0.125rem 0.1875rem 0.125rem #FFF4;
    }

    &::after {
      /* z-index: 0;
      position: absolute;
      top: 0;
      left: 0;
      content: ' ';
      height: 100%;
      width: 100%;
      border-radius: 1.75rem;
      box-shadow: inset 0 -0.1625rem 0.225rem 0.19375rem #0006 */
      position: absolute;
      background-image: linear-gradient(#FFF0, #FFF0, #FFF6);
      content: '';
      opacity: 1;
      height: 86%;
      width: 47%;
      left: 48%;
      top: 7%;
      border-radius: 6rem;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      transform: rotate(-10deg);
    }

    &.active {
      touch-action: manipulation;
      box-shadow:
        -0.015625rem -0.03125rem 0.03125rem 0.09375rem #FFF9,
        0.25rem 0.5rem 0.25rem 0 #0009,
        inset -0.0625rem -0.125rem 0.125rem 0 #0009;

      /* -0.03125rem -0.0625rem 0.03125rem 0.09375rem #FFF9,
          0.25rem 0.5rem 0.25rem 0 #0009,
          inset 0.125rem 0.25rem 0.125rem 0 #0009; */

      &::before {
        top: 6%;
        left: 13%;
        box-shadow: -0.125rem 0.125rem 0.1875rem 0.125rem #FFF4
      }

      &::after {
        left: 48%;
        top: 4%;
      }
    }
  }

  & #HoldSwap {
    touch-action: manipulation;
    background-color: var(--toast-dark-blue);
    position: absolute;
    left: -1.4rem;
    bottom: 8.4rem;
  }

  & #RotateL {
    touch-action: manipulation;
    background-color: var(--toast-red-mario);
    position: absolute;
    left: -4.9rem;
    bottom: 0.5rem;
  }

  & #RotateR {
    touch-action: manipulation;
    background-color: var(--toast-red-mario);
    position: absolute;
    left: -1.4rem;
    bottom: 3.5rem;
  }
}

.modal-nav {

  transition: all 0.4 ease-in;

  &.show {
    animation: pause-in 0.4s ease-in;
    display: block;
    opacity: 1;
  }

  &.hide {
    animation: unpause-out 0.4s ease-in;
    opacity: 0;
    transform: scale(0);
  }

  position: fixed;
  top: 11%;
  left: 3%;
  height: 88%;
  width: 94%;

  /* display: none; */
  background-color: #3d3737;
  box-sizing: border-box;
  background-color: rgb(26, 26, 26, 0.8);
  border: 0.0625rem outset hsl(208, 30%, 60%);
  border-radius: 5vw 5vw;
}
